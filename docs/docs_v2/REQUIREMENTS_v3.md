# 요구사항 명세서 v3 (협업 중심)

## 1. 프로젝트 개요

**실시간 협업을 중심으로 설계된** 모바일 노트 앱으로, 사용자가 언제 어디서든 팀원들과 함께 아이디어를 기록하고 발전시키며, 프로젝트를 효율적으로 관리할 수 있도록 돕습니다. '오프라인 우선' 아키텍처를 채택하여 안정적인 사용성을 보장하고, 사용자 계층별로 합리적인 협업 기능의 차등을 둡니다.

## 2. 대상 사용자

- 팀 프로젝트, 스터디 그룹 등 공동 작업이 잦은 학생 및 직장인
- 원격 근무 환경에서 실시간으로 아이디어를 공유하고 문서를 함께 편집해야 하는 팀
- 빠르고 안정적인 모바일 노트 앱을 선호하는 모든 사용자

## 3. 사용자 계층 및 인증

### 3.1. 비회원 (Non-member)
- 앱 설치 후 로그인 없이 즉시 사용 가능.
- 모든 데이터는 기기 로컬에만 저장.
- **협업 기능 사용 불가.**

### 3.2. 회원 (무료 가입)
- 이메일/소셜 계정으로 가입 및 로그인.
- 로컬 데이터와 클라우드 데이터 동기화.
- **제한된 실시간 협업 기능** 및 프로젝트 기능 제공.

### 3.3. 프로(Pro) 구독자 (유료)
- 유료 구독 플랜 결제 회원.
- **모든 협업 기능에 대한 무제한 접근 권한.**
- 무제한 클라우드 저장 공간, 강화된 프로젝트 관리 기능 제공.

## 4. 기능 요구사항 (협업 중심 재편)

### 4.1. 공통 기능 (모든 사용자)
- **노트 생성/수정/삭제**: 텍스트 기반 노트 작성 및 관리.
- **기본 서식**: 볼드, 이탤릭, 밑줄, 목록 등 기본적인 서식 지원.
- **로컬 저장**: 기기 내부에 무제한으로 노트 저장.
- **분할 화면**: 한 화면에 두 개의 노트를 열어보는 기능.

### 4.2. 회원 전용 기능 (무료 가입)
- **클라우드 동기화**: 로컬 노트를 클라우드(Supabase)와 동기화 (저장 공간 1GB 제한).
- **프로젝트 생성 (제한)**:
    - 최대 3개의 프로젝트 생성 가능.
    - 프로젝트당 최대 5명의 멤버 초대 가능.
- **기본 협업 기능**:
    - **실시간 동시 편집**: 최대 2명의 사용자가 동시에 한 노트를 편집 가능. (편집 충돌은 '마지막 쓰기' 우선)
    - **댓글 기능**: 노트의 특정 부분에 댓글을 남겨 의견 교환.
    - **읽기 전용 공유**: 프로젝트 외부 사용자에게 노트를 읽기 전용 링크로 공유.
- **버전 기록 (제한)**: 최근 24시간 동안의 노트 변경 기록 확인 가능.

### 4.3. 프로(Pro) 구독자 전용 기능
- **클라우드 저장 공간**: 무제한.
- **프로젝트 생성 (무제한)**:
    - 무제한 프로젝트 생성.
    - 프로젝트당 무제한 멤버 초대.
- **고급 협업 기능**:
    - **실시간 동시 편집 (무제한)**: 인원수 제한 없이 동시 편집 가능.
    - **편집 권한 관리**: 프로젝트 멤버별로 '편집 가능', '댓글만 가능', '읽기만 가능' 등 세부 권한 설정.
    - **변경 내용 추적 (Track Changes)**: 다른 사용자의 편집 내용을 '변경 제안' 형태로 표시하고, 수락/거절 가능.
- **버전 기록 (무제한)**: 노트의 전체 변경 이력을 확인하고 특정 버전으로 복원 가능.
- **프로젝트 관리**:
    - 프로젝트별 진행 상황 대시보드.
    - 프로젝트 템플릿 생성 및 공유.

### 4.4. AI 관련 기능 (향후 고려)
- AI 요약, AI 사전 등의 기능은 이번 MVP 범위에서는 제외하고, **향후 'AI 기능 팩'과 같은 별도의 유료 애드온(Add-on)으로 제공하는 것을 고려**합니다. 이를 통해 '협업'이라는 핵심 가치에 집중합니다.

## 5. 비기능 요구사항
- **성능**:
    - **실시간 편집 지연 시간**: 200ms 이하 목표.
    - **앱 시작 시간**: 2초 이내.
- **UI/UX**: 협업 상태(누가 접속 중인지, 누가 편집 중인지)를 직관적으로 파악할 수 있는 UI 제공.
- **보안**: Supabase RLS를 통해 프로젝트 및 노트에 대한 접근을 사용자 권한에 따라 엄격히 통제.
- **안정성**: 오프라인 우선 아키텍처를 통해 네트워크 불안정 시에도 노트 작성 및 수정이 원활하게 이루어져야 함. 온라인 전환 시 충돌을 최소화하며 동기화.
